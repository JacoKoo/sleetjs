{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({\"./app/compile/index\":[function(require,module,exports){\n'use strict';\n\nvar sleet = require('sleet');\nvar handlebars = require('handlebars-sleet');\nvar templates = {\n    sleet: '#!handlebars block=helper\\n\\ndoctype html\\nhtml\\n    head\\n        meta(charset=\\'utf-8\\')\\n        title Welcom to Sleetjs\\n        link(rel=\\'stylesheet\\' href=\\'index.css\\')\\n\\n        # script\\n        script(type=\\'text/javascript\\') > uglify(mingle=true) > coffee.\\n            number = 2\\n            square = (x) -> x * x\\n            console.log square number\\n\\n        # ie conditional comment\\n        ieif(\\'lt IE 8\\') > script(src=\\'hello.js\\')\\n        @ieif(\\'gte IE 8\\')\\n            script(src=\\'script.js\\')\\n    body\\n        .container > p.\\n            This\\n            is\\n            a text block\\n        #footer\\n            p The end\\n\\n        # handlebars\\n        ul.list-group > each(items)\\n            li.list-group-item > a(id=\\'item-\\' + id) > echo(name)\\n\\n        helper(arg 1 \\'a\\')\\n            p inside the helper\\n        else\\n            p the reverse part',\n    html: '<!--\\n    convert html/handlebars to sleet\\n-->\\n\\n<!DOCTYPE html>\\n<html>\\n    <head>\\n        <meta charset=\"utf-8\">\\n        <title>Welcom to Sleetjs</title>\\n        <script type=\"text/javascript\">\\n            var a = 10;\\n            console.log(a);\\n        </script>\\n    </head>\\n    <body>\\n        <!-- multiple line text -->\\n        <p>\\n            first line\\n            second line\\n        </p>\\n\\n        <!-- handlebars -->\\n        <ul class=\"list-group\">{{#each items}}\\n            <li class=\"list-group-item\"><a id=\"item-{{id}}\">{{name}}</a></li>\\n        {{/each}}</ul>\\n    </body>\\n</html>\\n'\n};\n\nexports.items = {\n    input: 'input',\n    output: 'output'\n};\n\nexports.store = {\n    models: {\n        state: { data: { from: 'sleet', to: 'HTML/Handlebars' } },\n        input: { data: templates.sleet },\n        output: ''\n    },\n\n    callbacks: {\n        compile: function compile(payload) {\n            var input = payload && payload.input || this.models.input.data;\n            var compiler = this.models.state.data.from === 'sleet' ? sleet.compile : handlebars.convert;\n            var output = undefined;\n            try {\n                output = compiler(input);\n                output.content && (output = output.content);\n            } catch (e) {\n                output = e.message;\n            }\n\n            this.models.output.set(output, true);\n        },\n\n        reverseIt: function reverseIt() {\n            var model = this.models.state,\n                tpl = model.data.from === 'sleet' ? templates.html : templates.sleet;\n            model.set({\n                from: model.data.to,\n                to: model.data.from\n            }, true);\n\n            this.models.input.set(tpl, true);\n            this.module.dispatch('compile', { input: tpl });\n        }\n    }\n};\n\nexports.afterRender = function () {\n    this.dispatch('compile');\n};\n\n},{\"handlebars-sleet\":\"handlebars-sleet\",\"sleet\":\"sleet\"}],\"./app/compile/templates\":[function(require,module,exports){\nvar templater = require(\"handlebars/runtime\")[\"default\"].template;module.exports = templater({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"container\\\">\\n    <h3>Try Sleet Online</h3>\\n    <div class=\\\"left\\\" data-region=\\\"input\\\"></div>\\n    <div class=\\\"right\\\" data-region=\\\"output\\\"></div>\\n</div>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression;\n\n  return \"    <p>\\n        Type \\n        <span id=\\\"from\\\">\"\n    + alias1(container.lambda(((stack1 = (depth0 != null ? depth0.state : depth0)) != null ? stack1.from : stack1), depth0))\n    + \" </span>\\n        <a id=\\\"reverse\\\" href=\\\"javascript:;\\\">[Reverse]</a>\\n    </p>\\n    <div id=\\\"input\\\" class=\\\"input\\\">\"\n    + alias1(((helper = (helper = helpers.input || (depth0 != null ? depth0.input : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : {},{\"name\":\"input\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</div>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : {};\n\n  return \"    <p>Compiles to <span id=\\\"to\\\">\"\n    + alias1(container.lambda(((stack1 = (depth0 != null ? depth0.state : depth0)) != null ? stack1.to : stack1), depth0))\n    + \"</span></p>\\n    <div id=\\\"result\\\" class=\\\"output \"\n    + ((stack1 = helpers[\"if\"].call(alias2,((stack1 = (depth0 != null ? depth0.code : depth0)) != null ? stack1.haveError : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\\">\"\n    + alias1(((helper = (helper = helpers.output || (depth0 != null ? depth0.output : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(alias2,{\"name\":\"output\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</div>\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    return \"error\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.module || (depth0 != null ? depth0.module : depth0)) != null ? helper : alias2),(options={\"name\":\"module\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(alias1,options) : helper));\n  if (!helpers.module) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n\"\n    + ((stack1 = (helpers.view || (depth0 && depth0.view) || alias2).call(alias1,\"input\",{\"name\":\"view\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + ((stack1 = (helpers.view || (depth0 && depth0.view) || alias2).call(alias1,\"output\",{\"name\":\"view\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});\n},{\"handlebars/runtime\":\"handlebars/runtime\"}],\"./app/compile/view-input\":[function(require,module,exports){\n'use strict';\n\nexports.bindings = {\n    input: 'setInput',\n    state: 'setState'\n};\n\nexports.setState = function () {\n    var from = this.bindings.state.data.from,\n        comp = this.components.input;\n    this.$('from').innerHTML = from;\n    comp.getSession().setMode('ace/mode/' + (from === 'sleet' ? 'sleet' : 'handlebars'));\n};\n\nexports.setInput = function () {\n    this.components.input.setValue(this.bindings.input.data, -1);\n};\n\nexports.actions = {\n    'click reverse': 'reverseIt'\n};\n\nexports.components = [{\n    id: 'input', name: 'ace', options: { mode: 'sleet' }\n}];\n\nexports.mixin = {\n    changed: function changed(code) {\n        this.module.dispatch('compile', { input: code });\n    }\n};\n\n},{}],\"./app/compile/view-output\":[function(require,module,exports){\n'use strict';\n\nexports.bindings = {\n    output: 'reset',\n    state: 'setState'\n};\n\nexports.setState = function () {\n    var to = this.bindings.state.data.to,\n        comp = this.components.result;\n    this.$('to').innerHTML = to;\n    comp.getSession().setMode('ace/mode/' + (to === 'sleet' ? 'sleet' : 'handlebars'));\n};\n\nexports.reset = function () {\n    this.components.result.setValue(this.bindings.output.data, -1);\n};\n\nexports.components = [{\n    id: 'result', name: 'ace', options: { mode: 'handlebars', readonly: true }\n}];\n\n},{}],\"./app/ext/ace\":[function(require,module,exports){\n'use strict';\n\nvar D = require('drizzlejs');\n\nD.ComponentManager.register('ace', function (view, el) {\n    var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n    var editor = ace.edit(el);var mode = options.mode;\n    var readonly = options.readonly;\n\n\n    editor.setTheme('ace/theme/monokai');\n    mode && editor.getSession().setMode('ace/mode/' + mode);\n    readonly && editor.setReadOnly(true);\n\n    editor.$blockScrolling = Infinity;\n\n    editor.on('change', function () {\n        view.changed && view.changed(editor.getValue());\n    });\n    return editor;\n}, function (view, comp) {\n    comp.destroy();\n});\n\n},{\"drizzlejs\":\"drizzlejs\"}],\"./app/viewport/index\":[function(require,module,exports){\n'use strict';\n\nexports.items = {\n    header: 'header',\n    footer: 'footer',\n    compile: { region: 'content', isModule: true }\n};\n\n},{}],\"./app/viewport/templates\":[function(require,module,exports){\nvar templater = require(\"handlebars/runtime\")[\"default\"].template;module.exports = templater({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"    <section class=\\\"page-header\\\" data-region=\\\"header\\\"></section>\\n    <section class=\\\"main-content\\\">\\n        <div data-region=\\\"content\\\"></div>\\n        <footer class=\\\"site-footer\\\" data-region=\\\"footer\\\"></footer>\\n    </section>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"    <h1 class=\\\"project-name\\\">Sleet</h1>\\n    <h2 class=\\\"project-tagline\\\">A litte language that compiles into HTML</h2>\\n    <a class=\\\"btn\\\" href=\\\"https://github.com/jacokoo/sleetjs\\\">View on GitHub</a>\\n    <a class=\\\"btn\\\" href=\\\"https://github.com/jacokoo/sleetjs/zipball/master\\\">Download .zip</a>\\n    <a class=\\\"btn\\\" href=\\\"https://github.com/jacokoo/sleetjs/tarball/master\\\">Download .tar.gz</a>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"    <span class=\\\"site-footer-owner\\\">\\n        <a href=\\\"https://github.com/jacokoo/sleetjs\\\">Sleet</a>\\n        is maintained by\\n        <a href=\\\"https://github.com/jacokoo\\\">jacokoo</a>\\n        .\\n    </span>\\n    <span class=\\\"site-footer-credits\\\">This page was generated by\\n        <a href=\\\"https://pages.github.com\\\">GitHub Pages</a>\\n        using the\\n        <a href=\\\"https://github.com/jasonlong/cayman-theme\\\">Cayman theme</a>\\n        by\\n        <a href=\\\"https://twitter.com/jasonlong\\\">Jason Long</a>\\n        .\\n    </span>\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, options, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, buffer = \"\";\n\n  stack1 = ((helper = (helper = helpers.module || (depth0 != null ? depth0.module : depth0)) != null ? helper : alias2),(options={\"name\":\"module\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data}),(typeof helper === \"function\" ? helper.call(alias1,options) : helper));\n  if (!helpers.module) { stack1 = helpers.blockHelperMissing.call(depth0,stack1,options)}\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + ((stack1 = (helpers.view || (depth0 && depth0.view) || alias2).call(alias1,\"header\",{\"name\":\"view\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + ((stack1 = (helpers.view || (depth0 && depth0.view) || alias2).call(alias1,\"footer\",{\"name\":\"view\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});\n},{\"handlebars/runtime\":\"handlebars/runtime\"}],\"./app/viewport/view-footer\":[function(require,module,exports){\n\"use strict\";\n\n},{}],\"./app/viewport/view-header\":[function(require,module,exports){\n\"use strict\";\n\n},{}],1:[function(require,module,exports){\n'use strict';\n\nrequire('./app/ext/ace');\n\nvar D = require('drizzlejs');\nvar H = require('handlebars/runtime');\n\nvar app = window.app = new D.Application({\n    getResource: function getResource(path) {\n        return require('./' + path);\n    }\n});\n\nH.registerHelper('module', function (options) {\n    return this.Self instanceof D.Module ? options.fn(this) : '';\n});\n\nH.registerHelper('view', function (name, options) {\n    return this.Self instanceof D.View && this.Self.name === name ? options.fn(this) : '';\n});\n\napp.start();\n\n},{\"./app/ext/ace\":\"./app/ext/ace\",\"drizzlejs\":\"drizzlejs\",\"handlebars/runtime\":\"handlebars/runtime\"}]},{},[1]);\n"],"file":"main.js","sourceRoot":"/source/"}