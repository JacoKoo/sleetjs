var AtIeif,Coffee,Comment,Context,Doctype,Echo,EmptyTag,Ieif,Include,Markdown,Predict,Tag,Text,Transformer,Uglify,compile,defaultTags,emptyTags,parser;parser=require("./parser"),Context=require("./context").Context,Tag=require("./tags/tag").Tag,EmptyTag=require("./tags/empty-tag").EmptyTag,Predict=require("./tags/predict").Predict,Doctype=require("./tags/doctype").Doctype,Include=require("./tags/include").Include,Coffee=require("./tags/transformers/coffee").Coffee,Uglify=require("./tags/transformers/uglify").Uglify,Markdown=require("./tags/transformers/markdown").Markdown,Transformer=require("./tags/transformers/transformer").Transformer,Comment=require("./tags/comment").Comment,Text=require("./tags/text").Text,Echo=require("./tags/echo").Echo,Ieif=require("./tags/ieif").Ieif,AtIeif=require("./tags/at-ieif").AtIeif,emptyTags=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],defaultTags={doctype:Doctype,coffee:Coffee,uglify:Uglify,markdown:Markdown,"[COMMENT]":Comment,"@include":Include,"[TEXT]":Text,echo:Echo,ieif:Ieif,"@ieif":AtIeif},compile=function(e,r){var t,a,i,o,n,g,s,f,c,m,u,d;null==r&&(r={});try{f=parser.parse(e),u=f.tags,o=f.indent}catch(T){throw a=T,a instanceof parser.SyntaxError?new Error(a.message+" [line: "+a.line+", column: "+a.column+"]"):a}for(t=r.context||new Context,t.indentToken=o,t.options=r,i=0,s=emptyTags.length;s>i;i++)n=emptyTags[i],t.registerTag(n,EmptyTag);for(g in defaultTags)d=defaultTags[g],t.registerTag(g,d);c=r.tags||{};for(g in c)d=c[g],t.registerTag(g,d);m=r.predicts||{};for(g in m)d=m[g],t.registerPredict(g,d);return r.defaultTag&&t.setDefaultTag(r.defaultTag),r.defaultPredict&&t.setDefaultPredict(r.defaultPredict),t.generate(u),t.getOutput()},module.exports={compile:compile,Tag:Tag,EmptyTag:EmptyTag,Predict:Predict,Transformer:Transformer,Echo:Echo};