var Coffee,Comment,Context,Doctype,EmptyTag,Include,Markdown,Predict,Tag,Transformer,Uglify,compile,defaultTags,emptyTags,parser;parser=require("./parser"),Context=require("./context").Context,Tag=require("./tags/tag").Tag,EmptyTag=require("./tags/empty-tag").EmptyTag,Predict=require("./tags/predict").Predict,Doctype=require("./tags/doctype").Doctype,Include=require("./tags/include").Include,Coffee=require("./tags/transformers/coffee").Coffee,Uglify=require("./tags/transformers/uglify").Uglify,Markdown=require("./tags/transformers/markdown").Markdown,Transformer=require("./tags/transformers/transformer").Transformer,Comment=require("./tags/comment").Comment,emptyTags=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],defaultTags={doctype:Doctype,coffee:Coffee,uglify:Uglify,markdown:Markdown,"[COMMENT]":Comment,"@include":Include},compile=function(e,r){var t,a,o,n,g,s,i,m,c,f,p,u;null==r&&(r={});try{f=parser.parse(e),s=f.tags,o=f.indent}catch(d){throw a=d,a instanceof parser.SyntaxError?new Error(a.message+" [line: "+a.line+", column: "+a.column+"]"):a}for(t=r.context||new Context,t.indentToken=o,t.options=r,m=0,c=emptyTags.length;c>m;m++)n=emptyTags[m],t.registerTag(n,EmptyTag);for(g in defaultTags)i=defaultTags[g],t.registerTag(g,i);p=r.tags||{};for(g in p)i=p[g],t.registerTag(g,i);u=r.predicts||{};for(g in u)i=u[g],t.registerPredict(g,i);return t.generate(s),t.getOutput()},module.exports={compile:compile,Tag:Tag,EmptyTag:EmptyTag,Predict:Predict,Transformer:Transformer};