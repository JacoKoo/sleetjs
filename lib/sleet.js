var AtIeif,BlockDefinition,BlockReference,Coffee,Comment,Context,Doctype,Echo,EmptyTag,Ieif,Include,Markdown,Predict,Tag,Text,Transformer,Uglify,compile,createContext,defaultTags,emptyTags,parser;parser=require("./parser"),Context=require("./context").Context,Tag=require("./tags/tag").Tag,EmptyTag=require("./tags/empty-tag").EmptyTag,Predict=require("./tags/predict").Predict,Doctype=require("./tags/doctype").Doctype,Include=require("./tags/include").Include,Coffee=require("./tags/transformers/coffee").Coffee,Uglify=require("./tags/transformers/uglify").Uglify,Markdown=require("./tags/transformers/markdown").Markdown,Transformer=require("./tags/transformers/transformer").Transformer,Comment=require("./tags/comment").Comment,Text=require("./tags/text").Text,Echo=require("./tags/echo").Echo,Ieif=require("./tags/ieif").Ieif,AtIeif=require("./tags/at-ieif").AtIeif,BlockDefinition=require("./tags/block-def").BlockDefinition,BlockReference=require("./tags/block-ref").BlockReference,emptyTags=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],defaultTags={doctype:Doctype,coffee:Coffee,uglify:Uglify,markdown:Markdown,"[COMMENT]":Comment,"@include":Include,"[TEXT]":Text,echo:Echo,ieif:Ieif,"@ieif":AtIeif,block:BlockReference,"@block":BlockDefinition},createContext=function(e){var r,t,o,i,a,n,c,f;for(r=new Context(e),t=0,a=emptyTags.length;a>t;t++)o=emptyTags[t],r.registerTag(o,EmptyTag);for(i in defaultTags)f=defaultTags[i],r.registerTag(i,f);n=e.tags||{};for(i in n)f=n[i],r.registerTag(i,f);c=e.predicts||{};for(i in c)f=c[i],r.registerPredict(i,f);return e.defaultTag&&r.setDefaultTag(e.defaultTag),e.defaultPredict&&r.setDefaultPredict(e.defaultPredict),r},compile=function(e,r){var t,o,i,a,n,c,f,s,g;null==r&&(r={});try{s=parser.parse(e),g=s.tags,n=s.indent,o=s.declaration}catch(l){throw i=l,i instanceof parser.SyntaxError?new Error(i.message+" [line: "+i.line+", column: "+i.column+"]"):i}return t=createContext(r,n),o&&(c=o.name,a=o.ext,f=o.options,r[c]&&r[c].overrideContext?t=r[c].overrideContext(t,r,f):"sleet-"===c.slice(0,6)?t=require(c).overrideContext(t,r,f):"sleet"!==c&&(t=require("sleet-"+c).overrideContext(t,r,f))),t.indentToken=n,t.generate(g),{content:t.getOutput(),extension:a||r.extension||"html"}},module.exports={compile:compile,Tag:Tag,EmptyTag:EmptyTag,Predict:Predict,Transformer:Transformer,Echo:Echo,BlockDefinition:BlockDefinition,BlockReference:BlockReference};